---
sidebar_position: 0
slug: /swml/methods/amazon_bedrock
title: amazon_bedrock
description: Create an Amazon Bedrock agent interaction.
tags: ['swml']
keywords: ['signalwire', 'swml', 'Amazon', 'Bedrock']
---

import APIField from "@site/src/components/APIField";

[params]: /swml/methods/amazon_bedrock/params
[post_prompt]: /swml/methods/amazon_bedrock/post_prompt
[post_prompt_url]: /swml/methods/amazon_bedrock/post_prompt_url
[prompt]: /swml/methods/amazon_bedrock/prompt
[SWAIG]: /swml/methods/amazon_bedrock/swaig
[set_global_data action]: /swml/methods/amazon_bedrock/swaig/functions/data_map/output#actions
[Prompting Best Practices]: /ai/guides/best-practices#crafting-the-initial-prompt-for-the-ai

Create an Amazon Bedrock agent with a prompt. Since the text prompt is central to getting great results out of the AI,
it is highly recommended that you also read the [Prompting Best Practices][Prompting Best Practices] guide.

<APIField
  name="amazon_bedrock"
  type="object"
  required={true}
>
  An object that contains the [`Amazon Bedrock parameters`](#amazon-bedrock-parameters).
</APIField>

## **Amazon Bedrock parameters**

<APIField
  name="amazon_bedrock.global_data"
  type="object"
>
  A powerful and flexible environmental variable which can accept arbitrary data that is set initially in the SWML script or from the SWML [`set_global_data` action][set_global_data action]. This data can be referenced **globally**. All contained information can be accessed and expanded within the prompt - for example, by using a template string.
</APIField>

<APIField
  name="amazon_bedrock.params"
  type="object"
>
  A JSON object containing [`parameters`][params] as key-value pairs.
</APIField>

<APIField
  name="amazon_bedrock.post_prompt"
  type="object"
>
  The final set of instructions and configuration settings to send to the agent.

  See [`post_prompt`][post_prompt] for additional details.
</APIField>

<APIField
  name="amazon_bedrock.post_prompt_url"
  type="string"
>
  The URL to which to send status callbacks and reports. Authentication can also be set in the url in the format of `username:password@url`.

  See [`post_prompt_url`][post_prompt_url] for additional details.
</APIField>

<APIField
  name="amazon_bedrock.prompt"
  type="object"
  required={true}
>
  Establishes the initial set of instructions and settings to configure the agent.

  See [`prompt`][prompt] for additional details.
</APIField>

<APIField
  name="amazon_bedrock.SWAIG"
  type="object"
>
  An array of JSON objects to create user-defined functions/endpoints that can be executed during the dialogue.

  See [`SWAIG`][SWAIG] for additional details.
</APIField>

## Amazon Bedrock example

The following example selects Bedrock's **Tiffany** voice using the [voice_id](/swml/methods/amazon_bedrock/prompt) parameter in the prompt.
It includes scaffolding for a [post_prompt_url](/swml/methods/amazon_bedrock/post_prompt_url)
as well as several remote and inline functions using 
[SWAIG](/swml/methods/amazon_bedrock/swaig).

```yaml andJSON
---
version: 1.0.0
sections:
  main:
    - amazon_bedrock:
        post_prompt_url: https://example.com/my-api
        prompt:
          voice_id: tiffany
          text: |
            You are a helpful assistant that can provide information to users about a destination.
            At the start of the conversation, always ask the user for their name.
            You can use the appropriate function to get the phone number, address,
            or weather information.
        post_prompt:
          text: Summarize the conversation.
        SWAIG:
          includes:
            - functions:
                - get_phone_number
                - get_address
              url: https://example.com/functions
          defaults:
            web_hook_url: https://example.com/my-webhook
          functions:
            - function: get_weather
              description: To determine what the current weather is in a provided location.
              parameters:
                properties:
                  location:
                    type: string
                    description: The name of the city to find the weather from.
                type: object
            - function: summarize_conversation
              description: Summarize the conversation.
              parameters:
                type: object
                properties:
                  name:
                    type: string
                    description: The name of the user.
```
