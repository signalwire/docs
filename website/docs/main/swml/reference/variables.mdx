---
slug: /swml/variables
title: Variables
tags: ['swml']
description: Complete technical reference for SWML variable scopes and variable management.
sidebar_position: 1
---

import APIField from "@site/src/components/APIField";

# SWML Variables

<Subtitle>Complete reference for variables and scopes in SWML</Subtitle>

SWML provides a powerful variable system that allows you to access call information, store data, and pass parameters between sections.
This page is the authoritative technical reference for global variable scopes (`call`, `params`, `vars`) and variable management in SWML.

For information about using JavaScript expressions with variables, see the [Expressions Reference](/swml/expressions).
For template transformation functions, see the [Template Functions Reference](/swml/reference/template-functions).

## Variable syntax

SWML uses the `${variable}` syntax for variable substitution:

```yaml andJson
version: 1.0.0
sections:
  main:
    - play:
        url: 'say: ${call.from}'
    - set:
        greeting: 'Hello ${call.from}'
```


## Variables list

SWML provides several variable scopes that are available throughout your scripts. These scopes give you access to call information, script parameters, and stored data.

<APIField
  name="call"
  type="object"
>
  Information about the current call. Contains the following properties.

  **Scope:** Call-specific and read-only. Each call leg (A-leg, B-leg) has its own unique `call` object with different `call_id`, `from`, `to`, etc.
   When connecting to a new leg, the `call` object is re-initialized with the new leg's data.
</APIField>

<APIField name="call.call_id" type="string">
  A unique identifier for the call.
</APIField>

<APIField name="call.node_id" type="string">
  A unique identifier for the node handling the call.
</APIField>

<APIField name="call.segment_id" type="string">
  A unique identifier for the current call segment.
</APIField>

<APIField name="call.call_state" type="string">
  The current state of the call.
</APIField>

<APIField name="call.direction" type="string">
  The direction of this call. Possible values: `inbound`, `outbound`
</APIField>

<APIField name="call.type" type="string">
  The type of call. Possible values: `sip`, `phone`, `webrtc`
</APIField>

<APIField name="call.from" type="string">
  The number/URI that initiated this call.
</APIField>

<APIField name="call.to" type="string">
  The number/URI of the destination of this call.
</APIField>

<APIField name="call.headers" type="object[]">
  The headers associated with this call.
</APIField>

<APIField name="call.headers[].name" type="string">
  The name of the header.
</APIField>

<APIField name="call.headers[].value" type="string">
  The value of the header.
</APIField>

<APIField name="call.project_id" type="string">
  The Project ID this call belongs to.
</APIField>

<APIField name="call.space_id" type="string">
  The Space ID this call belongs to.
</APIField>

<APIField
  name="params"
  type="object"
>
  Parameters that are user-defined and set by the calling the [`execute`](/swml/methods/execute) or [`transfer`](/swml/methods/transfer) method.

  **Scope:** Section-scoped and read-only. Each section has its own independent `params` that must be explicitly passed via `execute` or `transfer`. Params do not persist after a section completes. 
  When an `execute` call returns, the calling section's original params are restored.

  **Example keys:** `params.audio_file`, `params.volume`, `params.department`

</APIField>

<APIField
  name="vars"
  type="object"
>
  Script variables that can be set, modified, and accessed throughout your SWML script.

  **Created by:**
  - [`set`](/swml/methods/set) method - Create or update user-defined variables
  - Method outputs - Many methods automatically create variables (e.g., `prompt_value`, `record_url`, `return_value`)

  **Managed with:**
  - [`unset`](/swml/methods/unset) method - Remove variables

  **Example keys:** `vars.user_choice`, `vars.counter`, `vars.prompt_value`, `vars.record_url`

  **Scope:** Global within a single call session. Variables persist across all sections and through `execute` calls.
  However, connecting to a new leg of a call will reset the `vars` object to an empty state.
</APIField>

### Example: Variables in JSON format

When SWML communicates with your SWML server, the following request body format is used to represent variables:

```json
{
  "call": {
    "call_id": "<CALL_UUID>",
    "node_id": "<NODE_ID>",
    "segment_id": "<SEGMENT_ID>",
    "call_state": "created",
    "direction": "inbound",
    "type": "phone",
    "from": "<CALLING PHONE NUMBER>",
    "to": "<DESTINATION NUMBER>",
    "headers": [],
    "project_id": "<YOUR PROJECT ID>",
    "space_id": "<YOUR SPACE ID>"
  },
  "vars": {
    "user_selection": "1"
  },
  "params": {
    "department": "sales"
  }
}
```

## Variables in serverless and server-based SWML

All SWML variables (`call`, `params`, `vars`) are available in both serverless (Dashboard-hosted) and server-based (external URL) deployments.

### Serverless (dashboard-hosted) scripts

When SWML is executed directly from the SignalWire Dashboard, access variables using the `${}` syntax:

```yaml andJson
version: 1.0.0
sections:
  main:
    - play:
        url: 'say: You are calling from ${call.from}'
    - play:
        url: 'say: Department is ${params.department}'
```

### Server-based (external URL) scripts

When SWML is served from your web server, SignalWire sends the current variable state as JSON in the POST request body (see the [JSON format example](#example-variables-in-json-format) above).

You have two options for working with these variables in your SWML response:

#### Option 1: Use variable expansion syntax

Use `${}` syntax in your returned SWML, and SignalWire will substitute the values at runtime:

```yaml andJson
version: 1.0.0
sections:
  main:
    - play:
        url: 'say: Welcome to ${params.department}'
    - play:
        url: 'say: Calling from ${call.from}'
```

#### Option 2: Extract and insert values server-side

Extract variables from the request body in your server code and insert them directly into the SWML response:

```javascript
// Example: Node.js/Express server
app.post('/swml-handler', (req, res) => {
  const { call, vars, params } = req.body;

  // Extract values from the request
  const department = params.department || 'support';
  const callerNumber = call.from;

  // Build SWML with values inserted directly
  const swml = {
    version: '1.0.0',
    sections: {
      main: [
        {
          play: {
            url: `say: Welcome to ${department}`
          }
        },
        {
          play: {
            url: `say: Calling from ${callerNumber}`
          }
        }
      ]
    }
  };

  res.json(swml);
});
```

Both approaches produce the same result. Use variable expansion (`${}`) for simpler cases, or extract values server-side when you need to perform logic or transformations on the data.

See the [Deployment Guide](/swml/guides/deployment) for complete server setup instructions.


## Accessing variable data

Variables can contain different types of data - simple values, nested objects, or arrays. Use dot notation (`.`) for object properties, bracket notation (`[]`) for array elements, or combine both for complex data structures.

### Simple values

Access variables directly by name:

```yaml andJson
version: 1.0.0
sections:
  main:
    - set:
        name: Alice
        age: 30
    - play:
        url: 'say: Hello ${name}, you are ${age} years old'
```

### Nested objects

Access nested properties using dot notation:

```yaml andJson
version: 1.0.0
sections:
  main:
    - set:
        user:
          name: Alice
          address:
            city: Seattle
            state: WA
    - play:
        url: 'say: ${user.name} lives in ${user.address.city}, ${user.address.state}'
```

### Arrays

Access array elements using bracket notation with zero-based indexing:

```yaml andJson
version: 1.0.0
sections:
  main:
    - set:
        departments:
          - Sales
          - Support
          - Engineering
    - play:
        url: 'say: First department is ${departments[0]}'
    - play:
        url: 'say: Second department is ${departments[1]}'
```

### Arrays of objects

Combine bracket and dot notation to access properties in array elements:

```yaml andJson
version: 1.0.0
sections:
  main:
    - set:
        employees:
          - name: Alice
            role: Engineer
          - name: Bob
            role: Manager
    - play:
        url: 'say: ${employees[0].name} is an ${employees[0].role}'
    - play:
        url: 'say: ${employees[1].name} is a ${employees[1].role}'
```
