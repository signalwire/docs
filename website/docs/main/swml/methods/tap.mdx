---
title: tap
slug: /swml/methods/tap
description: Start background call tap. Media is streamed over Websocket or RTP to customer controlled URI.
tags: ['swml']
---

import APIField from "@site/src/components/APIField";

Start background call tap. Media is streamed over Websocket or RTP to customer controlled URI.

<APIField
  name="tap"
  type="object"
  required={true}
>
  An object that accepts the [`tap parameters`](#tap-parameters).
</APIField>

## **tap Parameters**

<APIField
  name="uri"
  type="string"
  required={true}
>
  Destination of the tap media stream: `rtp://IP:port`, `ws://example.com`, or `wss://example.com`
</APIField>

<APIField
  name="control_id"
  type="string"
  default="Auto-generated, stored in the tap_control_id variable"
>
  Identifier for this tap to use with `stop_tap`
</APIField>

<APIField
  name="direction"
  type="string"
  default="`speak`"
>
  Direction of the audio to tap: `speak` for what party says, `listen` for what party hears, `both` for what party hears and says
</APIField>

<APIField
  name="codec"
  type="string"
  default="`PCMU`"
>
  `PCMU` or `PCMA`
</APIField>

<APIField
  name="rtp_ptime"
  type="integer"
  default="20 ms"
>
  If using a `rtp://` URI, this optional parameter can set the packetization time of the media in milliseconds. Optional. Default 20 ms.
</APIField>

<APIField
  name="status_url"
  type="string"
>
  HTTP or HTTPS URL to deliver tap status events.
</APIField>

## **Variables**

Set by the method:

- **tap_uri:** (out) The destination URI of the newly started tap.
- **tap_result:** (out) `success` | `failed`.
- **tap_control_id:** (out) Control ID of this tap.
- **tap_rtp_src_addr:** (out) If RTP, source address of the tap stream.
- **tap_rtp_src_port:** (out) If RTP, source port of the tap stream.
- **tap_ptime:** (out) Packetization time of the tap stream.
- **tap_codec:** (out) Codec in the tap stream.
- **tap_rate:** (out) Sample rate in the tap stream.

## **Examples**

### Start WSS tap

```yaml andJson
version: 1.0.0
sections:
  main:
    - tap:
        uri: wss://example.com/tap
```
