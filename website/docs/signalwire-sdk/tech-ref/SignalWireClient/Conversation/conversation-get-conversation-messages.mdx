---
title: conversation.getConversationMessages
slug: /signalwire-client/conversation-get-conversation-messages
---

import APIField from '@site/src/components/APIField';

Retrieves messages from a specific persistent conversation. Unlike chat messages which are ephemeral, conversation messages are permanently stored.

## How it works

The `conversation.getConversationMessages` method fetches the message history from a persistent conversation. These messages remain available even after participants leave the conversation.

## Key concepts

### Persistent conversations

Conversation messages are:
- Permanently stored
- Available across sessions
- Accessible after participants leave
- Associated with conversation IDs

### Message history

You can retrieve:
- Full conversation history
- Recent messages
- Paginated results
- Messages with metadata

## Parameters

<APIField name="params" type="GetConversationMessagesParams" required>
  Configuration for retrieving conversation messages.
</APIField>

<APIField name="params.conversationId" type="string" required>
  The unique identifier of the conversation.
</APIField>

<APIField name="params.limit" type="number" default="50">
  Maximum number of messages to retrieve.
</APIField>

<APIField name="params.offset" type="number" default="0">
  Number of messages to skip (for pagination).
</APIField>

## Signature

```typescript
conversation.getConversationMessages(params: GetConversationMessagesParams): Promise<GetConversationMessagesResult>
```

## Returns

**Type:** `Promise<GetConversationMessagesResult>`

Returns a Promise that resolves with an array of messages and pagination information.

## Examples

### Get conversation messages

```typescript
const result = await client.conversation.getConversationMessages({
  conversationId: 'conversation-id-here'
})

console.log('Messages:', result.messages)
```

### Display message history

```typescript
const result = await client.conversation.getConversationMessages({
  conversationId: 'conversation-id-here'
})

result.messages.forEach(message => {
  console.log(`${message.from}: ${message.content}`)
  console.log(`Sent at: ${new Date(message.timestamp).toLocaleString()}`)
})
```

### Paginate through messages

```typescript
const result = await client.conversation.getConversationMessages({
  conversationId: 'conversation-id-here',
  limit: 20,
  offset: 0
})

console.log(`Showing ${result.messages.length} of ${result.total} messages`)

if (result.hasMore) {
  console.log('More messages available')
}
```

### Load older messages

```typescript
let offset = 0
const limit = 20

async function loadOlderMessages() {
  const result = await client.conversation.getConversationMessages({
    conversationId: 'conversation-id-here',
    limit: limit,
    offset: offset
  })
  
  prependMessages(result.messages)
  offset += limit
  
  return result.hasMore
}

const hasMore = await loadOlderMessages()
```

### Error handling

```typescript
try {
  const result = await client.conversation.getConversationMessages({
    conversationId: 'conversation-id-here'
  })
  console.log('Retrieved messages:', result.messages.length)
} catch (error) {
  console.error('Failed to get messages:', error)
}
```

### Display in chat UI

```typescript
const result = await client.conversation.getConversationMessages({
  conversationId: 'conversation-id-here'
})

const chatContainer = document.getElementById('chat-messages')
chatContainer.innerHTML = ''

result.messages.forEach(message => {
  const messageDiv = document.createElement('div')
  messageDiv.className = message.from === currentUserId ? 'message-sent' : 'message-received'
  messageDiv.innerHTML = `
    <div class="message-sender">${message.from}</div>
    <div class="message-content">${message.content}</div>
    <div class="message-time">${new Date(message.timestamp).toLocaleTimeString()}</div>
  `
  chatContainer.appendChild(messageDiv)
})
```

### Filter system messages

```typescript
const result = await client.conversation.getConversationMessages({
  conversationId: 'conversation-id-here'
})

const userMessages = result.messages.filter(
  msg => msg.type !== 'system'
)

console.log('User messages:', userMessages)
```

### Search conversation history

```typescript
const result = await client.conversation.getConversationMessages({
  conversationId: 'conversation-id-here'
})

const searchTerm = 'important'
const matchingMessages = result.messages.filter(
  msg => msg.content.toLowerCase().includes(searchTerm.toLowerCase())
)

console.log(`Found ${matchingMessages.length} messages containing "${searchTerm}"`)
```

