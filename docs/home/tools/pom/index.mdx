---
title: 'Prompt Object Model (POM)'
slug: '/tools/pom'
---

# SignalWire Prompt Object Model (POM)

<Subtitle>A lightweight Python library for structured prompt management</Subtitle>

## Overview

The Prompt Object Model (POM) is a structured data format and accompanying Python SDK for composing, organizing, 
and rendering prompt instructions for large language models. 
It provides a tree-based representation of a prompt document composed of nested sections, each of which can include:

* A title
* A body of explanatory or instructional text
* An optional list of bullet points
* Arbitrarily nested subsections

POM supports both machine-readability (via JSON) and structured rendering (via Markdown), making it ideal for prompt templating, modular editing, and traceable documentation.


## Getting Started

### Installation

To get started, install the `signalwire-pom` package using pip:

```bash
pip install signalwire-pom
```


### Basic Usage

The following example demonstrates how to create a new POM and add a section with a title and body with a list of bullets.

```python
from signalwire_pom import PromptObjectModel

# Create a new POM
pom = PromptObjectModel()

# Add a section with title and body
section = pom.add_section(
    "System Instructions", 
    body="You are a helpful AI assistant."
)

# Add bullet points
section.add_bullets([
    "Answer user questions accurately",
    "Be concise and clear"
])

# Render as markdown
markdown = pom.render_markdown()
print(markdown)
```

## Core Classes

The library consists of two main classes:

| Class | Description |
| ----- | ----------- |
| [`PromptObjectModel`](#promptobjectmodel-class) | The main container that holds all sections and provides top-level functionality |
| [`Section`](#section-class) | Represents a single section in the prompt hierarchy with content and structure |

---

### PromptObjectModel Class

The `PromptObjectModel` class is the main entry point for creating and managing prompt objects.

#### Creating a New POM

```python
from signalwire_pom import PromptObjectModel

# Create a new POM
pom = PromptObjectModel()
```

#### Methods

| Method | Return Type | Description |
| ------ | ----------- | ----------- |
| [`add_section`](#add_section) | `Section` | Adds a top-level section to the model |
| [`find_section`](#find_section) | `Optional[Section]` | Finds a section by its title (recursive search) |
| [`to_json`](#to_json) | `str` | Converts the entire model to a JSON string |
| [`render_markdown`](#render_markdown-promptobjectmodel) | `str` | Renders the entire model as markdown |
| [`from_json`](#from_json) | `PromptObjectModel` | Creates a PromptObjectModel instance from JSON data |

##### add_section

Adds a top-level section to the prompt model.

**Parameters:**

| Parameter | Type | Default Value | Description |
| --------- | ---- | ------------ | ----------- |
| `title` | `Optional[str]` | - | The title of the section |
| `body` | `str` | - | Body text for the section |
| `bullets` | `Optional[List[str]]` | - | List of bullet points |

**Returns:** `Section`

**Example:**
```python
# Create a section with a title and body
rules = pom.add_section(
    "Rules",
    body="Follow these important guidelines:"
)

# Add bullet points
rules.add_bullets([
    "Never send emails on behalf of the user",
    "Maintain user privacy and confidentiality"
])
```

##### find_section

Finds a section by its title, searching recursively through all sections and subsections.

**Parameters:**

| Parameter | Type | Default Value | Description |
| --------- | ---- | ------------ | ----------- |
| `title` | `str` | - | The title to search for |

**Returns:** `Optional[Section]`

**Example:**
```python
# Find a section by its title
rules_section = pom.find_section("Rules")
if rules_section:
    # Modify the found section
    rules_section.add_bullets(["Always suggest proofreading before sending"])
```

##### to_json

Converts the entire model to a JSON string.

**Parameters:** None

**Returns:** `str`

**Example:**
```python
# Generate JSON representation
json_data = pom.to_json()
print(json_data)
```

##### render_markdown

Renders the entire model as markdown.

**Parameters:** None

**Returns:** `str`

**Example:**
```python
# Generate markdown
markdown = pom.render_markdown()
print(markdown)
```

##### from_json

Creates a PromptObjectModel instance from JSON data.

**Parameters:**

| Parameter | Type | Default Value | Description |
| --------- | ---- | ------------ | ----------- |
| `json_data` | `Union[str, dict]` | - | Either a JSON string or a parsed dictionary |

**Returns:** `PromptObjectModel`

**Example:**
```python
# Create a POM from JSON
json_string = '''
[
  {
    "title": "Knowledge",
    "body": "You have the following specific knowledge:",
    "bullets": ["Email etiquette", "Business terminology"],
    "subsections": []
  }
]
'''
knowledge_pom = PromptObjectModel.from_json(json_string)
```

---

### Section Class

The `Section` class represents a single section in the prompt hierarchy and provides methods for managing content and structure.

#### Methods

| Method | Return Type | Description |
| ------ | ----------- | ----------- |
| [`add_body`](#add_body) | - | Adds or replaces the body text for this section |
| [`add_bullets`](#add_bullets) | - | Adds bullet points to this section |
| [`add_subsection`](#add_subsection) | `Section` | Adds a subsection to this section |
| [`to_dict`](#to_dict) | `dict` | Converts the section to a dictionary representation |
| [`render_markdown`](#render_markdown-section) | `str` | Renders this section and all its subsections as markdown |

##### add_body

Adds or replaces the body text for this section.

**Parameters:**

| Parameter | Type | Default Value | Description |
| --------- | ---- | ------------ | ----------- |
| `body` | `str` | - | The text to set as the section body |

**Returns:** `None`

**Example:**
```python
section = pom.add_section("Section Title")
section.add_body("This is the main content of my section.")
```

##### add_bullets

Adds bullet points to this section.

**Parameters:**

| Parameter | Type | Default Value | Description |
| --------- | ---- | ------------ | ----------- |
| `bullets` | `List[str]` | - | List of bullet points to add |

**Returns:** `None`

**Example:**
```python
section = pom.add_section("Guidelines")
section.add_bullets([
    "First important point",
    "Second important point",
    "Third important point"
])
```

##### add_subsection

Adds a subsection to this section.

**Parameters:**

| Parameter | Type | Default Value | Description |
| --------- | ---- | ------------ | ----------- |
| `title` | `str` | - | The title of the subsection |
| `body` | `str` | - | Optional body text for the subsection |
| `bullets` | `Optional[List[str]]` | - | Optional list of bullet points |

**Returns:** `Section`

**Example:**
```python
capabilities = pom.add_section("Capabilities")
drafting = capabilities.add_subsection(
    "Email Drafting",
    body="Create email drafts based on user specifications."
)
drafting.add_bullets([
    "Format emails properly with greeting, body, and signature",
    "Adjust tone based on recipient and purpose"
])
```

##### to_dict

Converts the section to a dictionary representation.

**Parameters:** None

**Returns:** `dict`

**Example:**
```python
section = pom.add_section("Test Section")
section_dict = section.to_dict()
```

##### render_markdown

Renders this section and all its subsections as markdown.

**Parameters:**

| Parameter | Type | Default Value | Description |
| --------- | ---- | ------------ | ----------- |
| `level` | `int` | `2` | The heading level to start with (default: 2, which corresponds to ##) |

**Returns:** `str`

**Example:**
```python
section = pom.find_section("Rules")
if section:
    markdown = section.render_markdown()
    print(markdown)
```

---

## Complete Example

Here's a complete example showing how to create a structured prompt for an AI assistant:

```python
from signalwire_pom import PromptObjectModel

# Create a new POM
pom = PromptObjectModel()

# Create main sections for an LLM prompt
objective = pom.add_section(
    "Objective", 
    body="You are an AI assistant built to help users draft professional emails."
)
objective.add_bullets([
    "Listen carefully to the user's requirements",
    "Draft concise, clear, and professional emails",
    "Provide options when appropriate"
])

# Add personality section
personality = pom.add_section(
    "Personality",
    body="You should present yourself with these traits:"
)
personality.add_bullets([
    "Professional but approachable",
    "Clear and concise in communication",
    "Helpful without being overly verbose"
])

# Add capabilities section with nested subsections
capabilities = pom.add_section(
    "Capabilities",
    body="You can perform the following email-related tasks:"
)

# Add subsections
drafting = capabilities.add_subsection(
    "Email Drafting",
    body="Create email drafts based on user specifications."
)
drafting.add_bullets([
    "Format emails properly with greeting, body, and signature",
    "Adjust tone based on recipient and purpose",
    "Include necessary information while being concise"
])

reviewing = capabilities.add_subsection(
    "Email Review",
    body="Analyze and improve existing email drafts."
)
reviewing.add_bullets([
    "Check for grammar and spelling issues",
    "Suggest improvements for clarity and tone",
    "Identify missing information"
])

# Generate markdown
markdown = pom.render_markdown()
print(markdown)

# Find and modify a specific section
rules_section = pom.find_section("Capabilities")
if rules_section:
    rules_section.add_bullets(["Generate subject lines that increase open rates"])
```

### Output

<Tabs>
<TabItem value="markdown" label="Markdown">

The above example would produce markdown like this:

```markdown
## Objective

You are an AI assistant built to help users draft professional emails.

- Listen carefully to the user's requirements
- Draft concise, clear, and professional emails
- Provide options when appropriate

## Personality

You should present yourself with these traits:

- Professional but approachable
- Clear and concise in communication
- Helpful without being overly verbose

## Capabilities

You can perform the following email-related tasks:

### Email Drafting

Create email drafts based on user specifications.

- Format emails properly with greeting, body, and signature
- Adjust tone based on recipient and purpose
- Include necessary information while being concise

### Email Review

Analyze and improve existing email drafts.

- Check for grammar and spelling issues
- Suggest improvements for clarity and tone
- Identify missing information
```

</TabItem>

<TabItem value="json" label="JSON">

The above example would produce JSON like this:

```json
[
  {
    "body": "You are an AI assistant built to help users draft professional emails.",
    "bullets": [
      "Listen carefully to the user's requirements",
      "Draft concise, clear, and professional emails",
      "Provide options when appropriate"
    ],
    "subsections": [],
    "title": "Objective"
  },
  {
    "body": "You should present yourself with these traits:",
    "bullets": [
      "Professional but approachable",
      "Clear and concise in communication",
      "Helpful without being overly verbose"
    ],
    "subsections": [],
    "title": "Personality"
  },
  {
    "body": "You can perform the following email-related tasks:",
    "bullets": [],
    "subsections": [
      {
        "body": "Create email drafts based on user specifications.",
        "bullets": [
          "Format emails properly with greeting, body, and signature",
          "Adjust tone based on recipient and purpose",
          "Include necessary information while being concise"
        ],
        "subsections": [],
        "title": "Email Drafting"
      },
      {
        "body": "Analyze and improve existing email drafts.",
        "bullets": [
          "Check for grammar and spelling issues",
          "Suggest improvements for clarity and tone",
          "Identify missing information"
        ],
        "subsections": [],
        "title": "Email Review"
      }
    ],
    "title": "Capabilities"
  }
]
```

</TabItem>
</Tabs>

