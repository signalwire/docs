
# mod_sofia 

 

## About

mod\_sofia is the SIP endpoint implemented by FreeSWITCH.

## Configuration

#### sofia.conf.xml

accept-blind-auth|true,false  
accept-blind-reg|true,false  
aggressive-nat-detection|true,false
alias|arbitrary
all-reg-options-ping|true,false
apply-candidate-acl|acl
apply-inbound-acl|acl
apply-nat-acl|acl
apply-proxy-acl|acl
apply-register-acl|acl
auth-all-packets|true,false
auth-calls|true,false
auth-messages|true,false
auto-jitterbuffer-msec|msc greater than 19
auto-restart|true,false
auto-rtp-bugs|clear,CISCO_SKIP_MARK_BIT_2833,SONUS_SEND_INVALID_TIMESTAMP_2833,IGNORE_MARK_BIT,SEND_LINEAR_TIMESTAMPS,START_SEQ_AT_ZERO,NEVER_SEND_MARKER,IGNORE_DTMF_DURATION,ACCEPT_ANY_PACKETS,GEN_ONE_GEN_ALL,CHANGE_SSRC_ON_MARKER,FLUSH_JB_ON_DTMF
bind-params|transport=tcp,udp,tls
bitpacking|aal2 (defaults to 3550 packing)
caller-id-type|pid,rpid,none (default is none)
capture-server|udp:x.x.x.x:port
challenge-realm|arbitrary
cid-in-1xx|true,false
cng-pt|payload number
codec-prefs|codec list comma sep.
confirm-blind-transfer|true,false
contact-user|arbitrary
context|context to process calls in.
db-inner-post-trans-execute|?
db-inner-pre-trans-execute|?
dbname|arbitrary
db-post-trans-execute|?
db-pre-trans-execute|?
debug-presence]|number
debug-sla|number
dialplan|which dialplan to process calls with (XML)
disable-hold|true,false
disable-naptr|true,false
disable-register|true,false
disable-rtp-auto-adjust|true,false
disable-srv|true,false
disable-srv503|true,false
disable-transcoding|true,false
disable-transfer|true,false
dtmf-duration| SWITCH_DEFAULT_DTMF_DURATION which is 2000
dtmf-type|info,rfc2833,none
enable-100rel|true,false
enable-3pcc|true,false
enable-compact-headers|true,false
enable-rfc-5626|true,false
enable-soa|true,false
enable-timer|true,false
extended-info-parsing|true,false
ext-rtp-ip|ipaddress
ext-sip-ip|ipaddress
ext-sip-port|port
fire-message-events|true,false
force-publish-expires|number
force-register-db-domain|domain
force-register-domain|domain
force-subscription-domain|number
force-subscription-expires|number
forward-unsolicited-mwi-notify|true,false
full-id-in-dialplan|true,false
hold-music|arbitrary
ignore-183nosdp|true,false
inbound-bypass-media|true,false
inbound-codec-negotiation|greedy,scrooge (default both)
inbound-codec-prefs|codec list
inbound-late-negotiation|true,false
inbound-no-media|true,false
inbound-proxy-media|true,false
inbound-reg-force-matching-username|true,false
inbound-reg-in-new-thread|true,false
inbound-use-callid-as-uuid|true,false
inbound-zrtp-passthru|true,false **ZRTP IS NOW DEPREICATED and will be removed out of the docs**
in-dialog-chat|true,false
liberal-dtmf|true,false
local-network-acl|acl
log-auth-failures|true,false
log-level|number
manage-presence|passive,pnp,true
manage-shared-appearance|true,false
manual-redirect|true,false
manual-rtp-bugs|rtp_bug_list
manual-video-rtp-bugs|rtp_bug_list
max-calls|number
max-proceeding|number
max-registrations-per-extension|number
max-reg-threads|number
media-option|resume-media-on-hold,bypass-media-after-att-xfer,bypass-media-after-hold
minimum-session-expires|number
multiple-registrations|number
mwi-use-reg-callid|true,false
nat-options-ping|udp-only,true (default off)
NDLB-allow-bad-iananame|true,false
NDLB-allow-crypto-in-avp|true,false
NDLB-allow-nondup-sdp|true,false
NDLB-broken-auth-hash|true,false
NDLB-expires-in-register-response|true,false
NDLB-force-rport|safe,disabled,client-only,client-only
NDLB-received-in-nat-reg-contact|true,false
NDLB-sendrecv-in-session|true,false
NDLB-support-asterisk-missing-srtp-auth|true,false
nonce-ttl|number
odbc-dsn|odbc dsn info
outbound-codec-prefs|codec list
outbound-use-uuid-as-callid|true,false
parse-all-invite-headers|true,false
pass-callee-id|true,false
p-asserted-id-parse|true,false
pass-rfc2833|true,false
pnp-provision-url|arbitrary
presence-disable-early|true,false
presence-hold-state|confirmed,terminated
presence-hosts|hostnames
presence-privacy|true,false
presence-probe-on-register|true,false
presence-proto-lookup|true
profile-standby|true,false
record-path|path
record-template|template to expand
reg-deny-binding-fetch-and-no-lookup|true,false
registration-thread-frequency|number default IREG_SECONDS 30
renegotiate-codec-on-hold|true,false
renegotiate-codec-on-reinvite|true,false
require-secure-rtp|true,false
reuse-connections|true,false
rfc2833-pt|pt
rtcp-audio-interval-msec|msec
rtcp-video-interval-msec|msec
rtp-autofix-timing|true,false
rtp-digit-delay|number greater than 0
rtp-hold-timeout-sec|seconds
rtp-ip|ip
rtp-notimer-during-bridge|true,false
rtp-rewrite-timestamps|true,false
rtp-timeout-sec|seconds
rtp-timer-name|string
send-display-update|true,false
send-message-query-on-register|true,false
send-presence-on-register|true,false
session-timeout|seconds
shutdown-on-fail|true,false
sip-capture|yes,no
sip-domain|domain
sip-expires-late-margin|seconds
sip-expires-max-deviation|seconds
sip-force-expires|seconds
sip-ip|ip
sip-messages-respond-200-ok|true,false
sip-options-respond-503-on-busy|true,false
sip-port|port
sip-subscription-max-deviation|seconds
sip-trace|true,false
socket-tcp-keepalive|true,false
suppress-cng|true,false
t38-passthru|true,false
tcp-keepalive|milliseconds
tcp-ping2pong|milliseconds
tcp-pingpong|milliseconds
timer-T1|default 500ms (sofia defaults it to 1000 to prevent race)
timer-T1X64|default 32000
timer-T2|default 4000
timer-T4|4000
tls-bind-params|transport=tls or %s;transport=tls
tls-cert-dir|dir
tls-ciphers|ciper list
tls-only|true,false
tls-passphrase|arbitrary
tls-sip-port|port
tls-timeout|greater than 0 or 300
tls-verify-date|number
tls-verify-depth|number
tls-verify-in-subjects|?
tls-verify-policy|?
tls-version|sslv2,sslv3,sslv23,tlsv1,tlsv1.1,tlsv1.2
tracelevel|number
track-calls|true,false 
unregister-on-options-fail|true,false 
user-agent-filter|regex
user-agent-string|string
username|sdp username
vad|true,false 
watchdog-enabled|true,false 
watchdog-event-timeout|seconds
watchdog-step-timeout|seconds
ws-binding|ip:port or :port
wss-binding|ip:port or :port

  
---

  
### Call ID

#### inbound-use-callid-as-uuid

Type: Boolean

On inbound calls make the uuid of the session equal to the SIP call id of that call.

```xml
<param name="inbound-use-callid-as-uuid" value="true"/>
```

Internal sip\_profile configuration.

### Headers

#### parse-all-invite-headers

Type: Boolean

When true, mod\_sofia will parse all inbound invite headers and set variables with the values of them. Some custom variables are prepended with "X-" to differentiate them from standard SIP headers.

For more information search `sofia.c` for the string "`un_name`" to see how variables are built.
  
  
---

  
## See Also

[Sofia SIP Stack](../Configuration/Sofia-SIP-Stack/index.mdx#faq)

  

